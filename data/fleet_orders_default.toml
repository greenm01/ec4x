# EC4X Fleet Orders and Rules of Engagement Configuration
# Based on EC4X specifications (Section 6.2, 7.1.1)

# Fleet Orders (Section 6.2)
# Classic orders from Esterian Conquest, modified for EC4X

[[order]]
id = 0
name = "Hold Position"
description = "Standby for new orders"
requires = []

[[order]]
id = 1
name = "Move Fleet"
description = "Move to new solar system and hold position"
requires = []

[[order]]
id = 2
name = "Seek Home"
description = "Seek closest friendly solar system and hold position"
requires = []
auto_fallback = true  # Automatically moves if system lost

[[order]]
id = 3
name = "Patrol System"
description = "Actively patrol solar system, engaging hostile forces"
requires = []

[[order]]
id = 4
name = "Guard Starbase"
description = "Protect Starbase, join Task Force when confronting hostiles with orders 05-08"
requires = ["combat_ships"]
rear_guard = true

[[order]]
id = 5
name = "Guard/Blockade Planet"
description = "Guard friendly planet or blockade enemy planet"
requires = ["combat_ships"]
blockade_gco_reduction = 60  # percent
blockade_prestige_loss = 2  # per turn
rear_guard = true  # When guarding
engage_rules = ["orders_05_to_08_and_12"]

[[order]]
id = 6
name = "Bombard Planet"
description = "Attack planet's defensive ground assets, shields, batteries, and infrastructure"
requires = ["combat_ships"]
max_rounds = 3  # per turn

[[order]]
id = 7
name = "Invade Planet"
description = "Three round battle: destroy ground batteries, bombard, then drop Marines"
requires = ["combat_ships", "loaded_troop_transports"]
infrastructure_damage = 50  # percent of remaining IU destroyed
phase_1 = "destroy_ground_batteries"
phase_2 = "bombardment"
phase_3 = "drop_marines"

[[order]]
id = 8
name = "Blitz Planet"
description = "Quick Marine infiltration, dodging ground batteries"
requires = ["loaded_troop_transports"]
marine_as_modifier = 0.5  # Marines fight at half AS during insertion
infrastructure_preserved = true  # No IU destruction
marine_superiority_required = 2  # Need 2:1 advantage

[[order]]
id = 9
name = "Spy on Planet"
description = "Scout disguised as civilian satellite collects military intelligence"
requires = ["one_scout"]
solo_operation = true

[[order]]
id = 10
name = "Hack Starbase"
description = "Scout disguised as civilian satellite hacks Starbase for economic/R&D intel"
requires = ["one_scout"]
solo_operation = true
new_to_ec4x = true

[[order]]
id = 11
name = "Spy on System"
description = "Scout loiters in system to collect military asset intelligence"
requires = ["one_scout"]
solo_operation = true

[[order]]
id = 12
name = "Colonize Planet"
description = "ETAC lands on unoccupied planet to establish Level I colony"
requires = ["one_etac"]
fallback_if_occupied = "hold_position"

[[order]]
id = 13
name = "Join Fleet"
description = "Seek fleet location and merge squadrons"
requires = []
disband_old_fleet = true
fallback_if_destroyed = "hold_position"

[[order]]
id = 14
name = "Rendezvous at System"
description = "Move to system and merge with other rendezvous fleets"
requires = []
merge_rule = "lowest_id_becomes_host"

[[order]]
id = 15
name = "Salvage"
description = "Salvage fleet at closest colony for 50% PC"
requires = ["friendly_colony_in_system"]
salvage_rate = 50  # percent of PC recovered
disband_fleet = true

# Rules of Engagement (Section 7.1.1)
# ROE dictates how aggressive fleets respond to enemy forces

[[roe]]
level = 0
name = "Avoid All"
description = "Avoid all hostile forces (non-combat forces)"
engage_ratio = 0

[[roe]]
level = 1
name = "Defenseless Only"
description = "Engage forces only if they are defenseless"
engage_ratio = 999  # Effectively infinite

[[roe]]
level = 2
name = "4:1 Advantage"
description = "Engage forces only if your advantage is 4:1 or better"
engage_ratio = 4.0

[[roe]]
level = 3
name = "3:1 Advantage"
description = "Engage forces only if your advantage is 3:1 or better"
engage_ratio = 3.0

[[roe]]
level = 4
name = "2:1 Advantage"
description = "Engage forces only if your advantage is 2:1 or better"
engage_ratio = 2.0

[[roe]]
level = 5
name = "3:2 Advantage"
description = "Engage forces only if your advantage is 3:2 or better"
engage_ratio = 1.5

[[roe]]
level = 6
name = "Equal or Better"
description = "Engage hostile forces of equal or inferior strength"
engage_ratio = 1.0

[[roe]]
level = 7
name = "Outgunned 3:2"
description = "Engage hostile forces even if outgunned 3:2"
engage_ratio = 0.67

[[roe]]
level = 8
name = "Outgunned 2:1"
description = "Engage hostile forces even if outgunned 2:1"
engage_ratio = 0.5

[[roe]]
level = 9
name = "Outgunned 3:1"
description = "Engage hostile forces even if outgunned 3:1"
engage_ratio = 0.33

[[roe]]
level = 10
name = "Engage Regardless"
description = "Engage hostile forces regardless of their size"
engage_ratio = 0

[roe_rules]
# ROE behavior rules
can_change_before_combat = true
cannot_change_during_combat = true
retreat_allowed_after_round = 1  # Can retreat after first round
starbase_roe = 10  # Starbases never retreat
task_force_roe = "highest_joining_fleet"  # Task Force adopts highest ROE
