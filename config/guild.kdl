// EC4X Space Guild Configuration v0.2
// Source: docs/specs/03-economy.md Section 3.5
// This file defines the core mechanics, costs, and behaviors for civilian
// population transfers facilitated by the neutral Space Guild.

guildMechanics {
    (docs)"docs/specs/03-economy.md#section-3-5"

    // Transfer limits
    transferLimits {
        minPtuTransfer 1
        minSourcePuRemaining 1
        maxConcurrentTransfers 5
    }

    // Base cost in PP per PTU, based on the destination planet's class.
    transferCosts {
        planetClass "Eden" { cost 4 }
        planetClass "Lush" { cost 5 }
        planetClass "Benign" { cost 6 }
        planetClass "Harsh" { cost 8 }
        planetClass "Hostile" { cost 10 }
        planetClass "Desolate" { cost 12 }
        planetClass "Extreme" { cost 15 }
    }

    // Transit time follows normal starmap traversal (abstracted from player)
    // Implementation calculates actual path through jump lanes

    // Defines behavior for edge cases when colony status changes mid-transfer.
    transferRisks {
        sourceConqueredBehavior "continue"      // Transfer continues as the Guild is neutral and was already paid.
        destConqueredBehavior "lost"       // Colonists are lost as refugees in the chaos.
        destBlockadedBehavior "closest_owned" // Rerouted to the nearest friendly, safe colony.
        destCollapsedBehavior "closest_owned" // Rerouted if destination is no longer viable.
    }
}

// Defines parameters for how the game AI decides to use Guild transfers.
// NOTE: AI strategy parameters not in spec - tuning/balance values
aiStrategy {
    minTreasuryForTransfer 200
    minSourcePopulation 10
    maxDestPopulation 5
    recentColonyAgeTurns 20
    ptuPerTransfer 2
    minEconomicFocus 0.5
    minExpansionDrive 0.4
}