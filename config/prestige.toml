# EC4X Prestige Configuration
# Source: docs/specs/reference.md Section 9.4
#
# This file contains:
# - BALANCE VARIABLES: Prestige values (tunable during playtesting)
# - GAME CONSTANTS: Victory thresholds, morale tiers

# ============================================================================
# VICTORY CONDITIONS
# ============================================================================

[victory]
# BALANCE: Victory and defeat thresholds
prestige_victory = 5000            # Reach 5000 prestige to win
starting_prestige = 50             # NOTE: Game setup defines this in game_setup/standard.toml
defeat_threshold = 0               # Below 0 for consecutive turns = surrender
defeat_consecutive_turns = 3       # NOTE: Elimination mechanics in config/gameplay.toml

# ============================================================================
# MORALE SYSTEM (GAME CONSTANTS)
# ============================================================================

[morale]
# Morale thresholds for combat (operations.md:7.1.4)
# MECHANIC: These define the morale tier system
crisis_max = 0        # â‰¤0: Crisis (-1 CER, never succeeds morale check)
low_max = 20          # 1-20: Low (no effect unless check succeeds >18)
average_max = 40      # 21-40: Average (+1 CER one squadron if >15)
good_max = 60         # 41-60: Good (+1 CER all if >12)
high_max = 80         # 61-80: High (+1 CER + critical auto-success if >9)
# 81+: Elite (+2 CER all if >6)

# ============================================================================
# PRESTIGE SOURCES (BALANCE VARIABLES)
# Source: reference.md Table 9.4
# ============================================================================

[economic]
# BALANCE: Economic achievement rewards
# ACCELERATION: Tripled all values for 30-turn multi-generational timeline
tech_advancement = 6               # Advance to new tech level (was 2)
establish_colony = 15              # New colony established (was 5)
max_population = 9                 # Colony reaches max PU (was 3)
iu_milestone_50 = 3                # Reach 50% IU of PU (was 1)
iu_milestone_75 = 6                # Reach 75% IU of PU (was 2)
iu_milestone_100 = 9               # Reach 100% IU of PU (was 3)
iu_milestone_150 = 15              # Reach 150% IU of PU (was 5)
terraform_planet = 15              # Upgrade planet class via terraforming (was 5)

[military]
# BALANCE: Military victory rewards
# ACCELERATION: Tripled all values for 30-turn multi-generational timeline
destroy_squadron = 3               # Per major ship destroyed (was 1)
destroy_starbase = 15              # Destroy enemy starbase (was 5)
fleet_victory = 9                  # Win fleet battle (was 3)
invade_planet = 30                 # Successfully invade/blitz planet (was 10)
eliminate_house = 9                # Eliminate rival house (was 3)
system_capture = 30                # Capture star system (was 10)

# BALANCE: Military defeat penalties
# ACCELERATION: Tripled all penalties to maintain relative balance
lose_planet = -30                  # Lose colony to enemy (was -10)
lose_starbase = -15                # Starbase destroyed (was -5)
ambushed_by_cloak = -3             # Ambushed by cloaked fleet (was -1)
force_retreat = 6                  # Force enemy to retreat (was 2)
scout_destroyed = -9               # Scout detected and destroyed (was -3)

[espionage]
# BALANCE: Espionage success rewards
# ACCELERATION: Tripled all values for 30-turn multi-generational timeline
tech_theft = 6                     # Successful tech theft (was 2)
low_impact_sabotage = 3            # Low-impact sabotage success (was 1)
high_impact_sabotage = 9           # High-impact sabotage success (was 3)
assassination = 15                 # Successful assassination (was 5)
cyber_attack = 6                   # Successful cyber attack (was 2)
economic_manipulation = 9          # Successful economic manipulation (was 3)
psyops_campaign = 3                # Successful psyops (was 1)

# BALANCE: Espionage failure/detection penalties
# ACCELERATION: Tripled penalty
failed_espionage = -6              # Espionage detected and prevented (was -2)

[espionage_victim]
# BALANCE: Prestige penalties for being targeted by espionage
# ACCELERATION: Tripled all penalties for 30-turn multi-generational timeline
tech_theft_victim = -9             # Victim of tech theft (was -3)
low_impact_sabotage_victim = -3    # Victim of low sabotage (was -1)
high_impact_sabotage_victim = -15  # Victim of high sabotage (was -5)
assassination_victim = -21         # Leader assassinated (was -7)
cyber_attack_victim = -9           # Victim of cyber attack (was -3)
economic_manipulation_victim = -4  # Victim of economic manipulation
psyops_campaign_victim = -2        # Victim of psyops

[scout]
# BALANCE: Scout mission rewards
spy_on_planet = 1                  # Successful planet espionage
hack_starbase = 2                  # Successful starbase hack
spy_on_system = 1                  # Successful system reconnaissance

[diplomacy]
# BALANCE: Diplomatic action prestige impacts
# ACCELERATION: Tripled all values for 30-turn multi-generational timeline
diplomatic_pact_formation = 15     # Form diplomatic pact (was 5)
pact_violation = -30               # Break non-aggression pact (was -10)
repeat_violation = -30             # Repeat violation (dishonored status) (was -10)
dishonored_bonus = 3               # Bonus for attacking dishonored house (was 1)
declare_war = 0                    # No inherent penalty
make_peace = 0                     # No inherent bonus

[victory_achievement]
# BALANCE: Final victory rewards
victory_achieved = 5               # Game victory bonus

# ============================================================================
# PRESTIGE PENALTY MECHANICS (BALANCE VARIABLES)
# Source: reference.md Section 9.4 - Prestige Penalty Mechanics
# ============================================================================

[penalties]
# BALANCE: Tax penalties (old system - reference.md spec)
# These use simple thresholds, not rolling averages
high_tax_threshold = 51            # >51% triggers penalty
high_tax_penalty = -1              # -1 prestige
high_tax_frequency = 3             # Every 3 consecutive turns

very_high_tax_threshold = 66       # >66% triggers higher penalty
very_high_tax_penalty = -2         # -2 prestige
very_high_tax_frequency = 5        # Every 5 consecutive turns

# BALANCE: Maintenance shortfall escalation
maintenance_shortfall_base = -5    # -5 turn 1
maintenance_shortfall_increment = -2  # Increases by -2 each turn (-5, -7, -9...)

# BALANCE: Blockade penalty
blockade_penalty = -2              # -2 prestige per turn per colony

# BALANCE: Over-investment penalties (espionage/counter-intel)
over_invest_espionage = -1         # -1 per 1% over 5% threshold
over_invest_counter_intel = -1     # -1 per 1% over 5% threshold

# ============================================================================
# TAX PENALTIES (NEW SYSTEM - economy.md spec)
# Source: docs/specs/economy.md Section 3.2.1
# Uses rolling 6-turn average instead of consecutive turns
# ============================================================================

[tax_penalties]
# BALANCE: High-tax prestige penalties (rolling 6-turn average)
# Format: min_rate, max_rate, prestige_penalty
tier_1_min = 0
tier_1_max = 50
tier_1_penalty = 0                 # No penalty

tier_2_min = 51
tier_2_max = 60
tier_2_penalty = -1                # -1 prestige per turn

tier_3_min = 61
tier_3_max = 70
tier_3_penalty = -2                # -2 prestige per turn

tier_4_min = 71
tier_4_max = 80
tier_4_penalty = -4                # -4 prestige per turn

tier_5_min = 81
tier_5_max = 90
tier_5_penalty = -7                # -7 prestige per turn

tier_6_min = 91
tier_6_max = 100
tier_6_penalty = -11               # -11 prestige per turn

# ============================================================================
# TAX INCENTIVES (NEW SYSTEM - economy.md spec)
# Source: docs/specs/economy.md Section 3.2.2
# ============================================================================

[tax_incentives]
# BALANCE: Low-tax prestige bonuses (applied same turn)
# Format: min_rate, max_rate, prestige_bonus_per_colony
# Note: Population growth multipliers are in economy.toml

tier_1_min = 41
tier_1_max = 50
tier_1_prestige = 0                # No bonus

tier_2_min = 31
tier_2_max = 40
tier_2_prestige = 0                # No bonus

tier_3_min = 21
tier_3_max = 30
tier_3_prestige = 1                # +1 prestige per colony

tier_4_min = 11
tier_4_max = 20
tier_4_prestige = 2                # +2 prestige per colony

tier_5_min = 0
tier_5_max = 10
tier_5_prestige = 3                # +3 prestige per colony
