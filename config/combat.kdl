// EC4X Combat Rules Configuration
// Edit this file to change combat mechanics for all games

combat {
    // Critical hit mechanics
    criticalHitRoll 9              // Natural 9 on 1d10 = critical hit
    retreatAfterRound 1            // Can retreat after this round

    // Starbase combat bonuses
    starbaseCriticalReroll #true    // Starbases reroll first critical hit against them
    starbaseDieModifier 2          // +2 die roll modifier for starbases
}

cerModifiers {
    // Combat Effectiveness Rating die roll modifiers
    scouts 1                       // +1 for having scouts in task force
    surprise 3                     // +3 first round (cloaked attack)
    ambush 4                       // +4 first round (cloaked defense in own system)
}

cerTable {
    // Combat Effectiveness Rating results (1d10)
    // Format: roll_min-roll_max = multiplier
    // "Less than zero, 0, 1, 2" = 0.25
    // "3, 4" = 0.50
    // "5, 6" = 0.75
    // "7, 8, 9+" = 1.00
    veryPoorMax 2                  // Rolls ≤ 2 = 0.25x
    poorMax 4                       // Rolls 3-4 = 0.50x
    averageMax 6                    // Rolls 5-6 = 0.75x
    goodMin 7                       // Rolls ≥ 7 = 1.00x
}

bombardment {
    // Planetary bombardment rules
    maxRoundsPerTurn 3              // Maximum bombardment rounds per turn

    // Bombardment CER table (1d10)
    veryPoorMax 2                  // Rolls 0-2 = 0.25x
    poorMax 5                       // Rolls 3-5 = 0.50x
    goodMin 6                       // Rolls 6-8 = 1.00x
    // Roll 9 = critical hit (only affects attacking squadrons)
}

groundCombat {
    // Ground combat (invasion/blitz) CER table (1d10)
    poorMax 2                       // Rolls 0-2 = 0.50x
    averageMax 6                    // Rolls 3-6 = 1.00x
    goodMax 8                       // Rolls 7-8 = 1.50x
    critical 9                      // Roll 9 = 2.00x
}

planetaryShields {
    // Shield effectiveness by tech level (SLD1-SLD6)
    // Format: chance_percentage, min_1d20_roll, hits_blocked_percentage

    sld1Chance 15
    sld1Roll 17                     // Need >17 on 1d20
    sld1Block 25                    // Blocks 25% of hits

    sld2Chance 30
    sld2Roll 14
    sld2Block 30

    sld3Chance 45
    sld3Roll 11
    sld3Block 35

    sld4Chance 60
    sld4Roll 8
    sld4Block 40

    sld5Chance 75
    sld5Roll 5
    sld5Block 45

    sld6Chance 90
    sld6Roll 2
    sld6Block 50
}

damageRules {
    // Combat damage mechanics
    crippledAsMultiplier 0.5       // Crippled ships have AS * 0.5 (round up)
    crippledMaintenanceMultiplier 0.5  // Crippled ships have 50% maintenance cost
    squadronFightsAsUnit #true     // Squadron total AS/DS, not individual ships
    destroyAfterAllCrippled #true  // Don't destroy until all others crippled
}

retreatRules {
    // Retreat mechanics
    fightersNeverRetreat #true      // Fighter squadrons never retreat
    spaceliftDestroyedIfEscortLost #true  // Spacelift ships destroyed if escorts die
    retreatToNearestFriendly #true // Retreating fleets go to nearest friendly system
}

// ============================================================================
// BLOCKADE MECHANICS
// ============================================================================

blockade {
    // BALANCE: Blockade effects
    blockadeProductionPenalty 0.60 // -60% Gross Colonial Output (GCO)
    blockadePrestigePenalty 2      // -2 prestige per turn per blockaded colony
}

// ============================================================================
// INVASION MECHANICS
// ============================================================================

invasion {
    // BALANCE: Invasion and conquest effects
    invasionIuLoss 0.50            // Conquered planet loses 50% of IU
    blitzIuLoss 0.00               // Blitz preserves all IU if successful
}
