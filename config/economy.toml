# EC4X Economy Configuration
# Edit this file to change economic mechanics for all games

[starting_resources]
treasury = 1000                    # Starting credits
starting_population = 5            # Starting homeworld population (millions)
starting_infrastructure = 3        # Starting homeworld infrastructure level

[population]
natural_growth_rate = 0.02         # 2% natural birth rate per turn
growth_rate_per_starbase = 0.05    # +5% per starbase (max 3 starbases)
max_starbase_bonus = 0.15          # Maximum 15% bonus (3 starbases)

[production]
# Production calculation
production_per_10_population = 1   # 1 production per 10 million population
production_split_credits = 0.33    # 1/3 of production → credits
production_split_production = 0.33 # 1/3 of production → industrial units
production_split_research = 0.33   # 1/3 of production → research points

[infrastructure]
# Infrastructure bonuses
# TODO: Define infrastructure production modifiers

[planet_classes]
# Population Unit (PU) limits by planet class
extreme_pu_min = 1
extreme_pu_max = 20

desolate_pu_min = 21
desolate_pu_max = 60

hostile_pu_min = 61
hostile_pu_max = 180

harsh_pu_min = 181
harsh_pu_max = 500

benign_pu_min = 501
benign_pu_max = 1000

lush_pu_min = 1001
lush_pu_max = 2000

eden_pu_min = 2001
# eden has no max

[construction]
# Construction times (in turns/months)
spaceport_turns = 1
spaceport_docks = 5                # Number of construction docks

shipyard_turns = 2
shipyard_docks = 10                # Number of construction docks
shipyard_requires_spaceport = true # Must have spaceport to build shipyard

starbase_turns = 3
starbase_requires_shipyard = true  # Must have shipyard to build starbase
starbase_max_per_colony = 3        # Maximum 3 starbases per colony

planetary_shield_turns = 1         # Can rebuild in one turn
planetary_shield_max = 1           # Only one shield per planet
planetary_shield_replace_on_upgrade = true  # Must salvage old to upgrade

ground_battery_turns = 1           # Single turn construction
ground_battery_max = -1            # No limit (-1 = unlimited)

fighter_squadron_planet_based = true  # Fighters are planet-based, not fleet

[construction_costs]
# Build costs for infrastructure (not ships - those in ships_default.toml)
spaceport_cost = 500
shipyard_cost = 1000
starbase_cost = 1200
ground_battery_cost = 100

# Planetary shield costs by tech level
planetary_shield_sld1_cost = 500
planetary_shield_sld2_cost = 750
planetary_shield_sld3_cost = 1000
planetary_shield_sld4_cost = 1500
planetary_shield_sld5_cost = 2000
planetary_shield_sld6_cost = 3000

[upkeep]
# Annual upkeep costs
spaceport_upkeep = 25
shipyard_upkeep = 50
starbase_upkeep = 75
ground_battery_upkeep = 5
planetary_shield_upkeep = 50

[salvage]
salvage_value_multiplier = 0.5     # Salvaged ships return 50% of build cost

[blockade]
# Blockade effects
blockade_production_penalty = 0.60 # -60% Gross Colonial Output (GCO)
blockade_prestige_penalty = 2      # -2 prestige per turn per blockaded colony

[invasion]
# Invasion and conquest effects
invasion_iu_loss = 0.50            # Conquered planet loses 50% of IU
blitz_iu_loss = 0.00               # Blitz preserves all IU if successful

[research]
# Technology research costs
# Cost formula: base * (level ^ exponent)
research_cost_base = 1000          # Base cost for level 1
research_cost_exponent = 2         # Quadratic scaling (level^2)

# Tech fields: EnergyLevel, ShieldLevel, ConstructionTech, WeaponsTech,
#              TerraformingTech, ElectronicIntelligence, CounterIntelligence
#              (all hardcoded in engine)

[espionage]
# Espionage and Counter-Intelligence costs
ebp_cost_per_point = 40            # PP cost per Espionage Budget Point (EBP)
cip_cost_per_point = 40            # PP cost per Counter Intelligence Point (CIP)
max_actions_per_turn = 1           # Maximum espionage actions per turn

# Over-investment penalties (prestige loss)
budget_threshold_percent = 5       # Above this % of budget loses prestige
prestige_loss_per_percent_over = 1 # Prestige lost per 1% over threshold

# Espionage action costs (in EBP)
tech_theft_cost = 5
sabotage_low_cost = 2
sabotage_high_cost = 7
assassination_cost = 10
cyber_attack_cost = 6
economic_manipulation_cost = 6
psyops_campaign_cost = 3

# Counter-intelligence detection cost
detection_roll_cost = 1            # CIP cost per detection attempt

# ============================================================================
# RAW Material Efficiency Table
# Source: docs/specs/economy.md Section 3.1
# ============================================================================

[raw_material_efficiency]
# RAW INDEX by planet class (percentages as decimals)
# Format: raw_quality_planetclass = efficiency

# Very Poor
very_poor_eden = 0.60
very_poor_lush = 0.60
very_poor_benign = 0.60
very_poor_harsh = 0.60
very_poor_hostile = 0.60
very_poor_desolate = 0.60
very_poor_extreme = 0.60

# Poor
poor_eden = 0.80
poor_lush = 0.75
poor_benign = 0.70
poor_harsh = 0.65
poor_hostile = 0.64
poor_desolate = 0.63
poor_extreme = 0.62

# Abundant
abundant_eden = 1.00
abundant_lush = 0.90
abundant_benign = 0.80
abundant_harsh = 0.70
abundant_hostile = 0.68
abundant_desolate = 0.66
abundant_extreme = 0.64

# Rich
rich_eden = 1.20
rich_lush = 1.05
rich_benign = 0.90
rich_harsh = 0.75
rich_hostile = 0.72
rich_desolate = 0.69
rich_extreme = 0.66

# Very Rich
very_rich_eden = 1.40
very_rich_lush = 1.20
very_rich_benign = 1.00
very_rich_harsh = 0.80
very_rich_hostile = 0.76
very_rich_desolate = 0.72
very_rich_extreme = 0.68

# ============================================================================
# Tax Rate Tables
# Source: docs/specs/economy.md Sections 3.2.1 and 3.2.2
# ============================================================================

[tax_penalties]
# High-tax prestige penalties (rolling 6-turn average)
# Format: min_rate, max_rate, prestige_penalty
tier_1_min = 0
tier_1_max = 50
tier_1_penalty = 0

tier_2_min = 51
tier_2_max = 60
tier_2_penalty = -1

tier_3_min = 61
tier_3_max = 70
tier_3_penalty = -2

tier_4_min = 71
tier_4_max = 80
tier_4_penalty = -4

tier_5_min = 81
tier_5_max = 90
tier_5_penalty = -7

tier_6_min = 91
tier_6_max = 100
tier_6_penalty = -11

[tax_incentives]
# Low-tax incentives (applied same turn)
# Format: min_rate, max_rate, population_growth_multiplier, prestige_bonus_per_colony
tier_1_min = 41
tier_1_max = 50
tier_1_pop_multiplier = 1.0
tier_1_prestige = 0

tier_2_min = 31
tier_2_max = 40
tier_2_pop_multiplier = 1.05
tier_2_prestige = 0

tier_3_min = 21
tier_3_max = 30
tier_3_pop_multiplier = 1.10
tier_3_prestige = 1

tier_4_min = 11
tier_4_max = 20
tier_4_pop_multiplier = 1.15
tier_4_prestige = 2

tier_5_min = 0
tier_5_max = 10
tier_5_pop_multiplier = 1.20
tier_5_prestige = 3

# ============================================================================
# Industrial Unit Investment Costs
# Source: docs/specs/economy.md Section 3.4
# ============================================================================

[industrial_investment]
# IU investment cost multipliers by percentage of PU
# Base cost is 30 PP per IU
base_cost = 30

tier_1_max_percent = 50
tier_1_multiplier = 1.0
tier_1_pp = 30

tier_2_min_percent = 51
tier_2_max_percent = 75
tier_2_multiplier = 1.2
tier_2_pp = 36

tier_3_min_percent = 76
tier_3_max_percent = 100
tier_3_multiplier = 1.5
tier_3_pp = 45

tier_4_min_percent = 101
tier_4_max_percent = 150
tier_4_multiplier = 2.0
tier_4_pp = 60

tier_5_min_percent = 151
tier_5_multiplier = 2.5
tier_5_pp = 75

# ============================================================================
# Colonization Costs
# Source: docs/specs/economy.md Section 3.7
# ============================================================================

[colonization]
# PP per PTU by planet class
eden_pp_per_ptu = 4
lush_pp_per_ptu = 5
benign_pp_per_ptu = 6
harsh_pp_per_ptu = 8
hostile_pp_per_ptu = 10
desolate_pp_per_ptu = 12
extreme_pp_per_ptu = 15
