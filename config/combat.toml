# EC4X Combat Rules Configuration
# Edit this file to change combat mechanics for all games

[combat]
# Critical hit mechanics
critical_hit_roll = 9              # Natural 9 on 1d10 = critical hit
retreat_after_round = 1            # Can retreat after this round

# Starbase combat bonuses
starbase_critical_reroll = true    # Starbases reroll first critical hit against them
starbase_die_modifier = 2          # +2 die roll modifier for starbases

[cer_modifiers]
# Combat Effectiveness Rating die roll modifiers
scouts = 1                         # +1 for having scouts in task force
surprise = 3                       # +3 first round (cloaked attack)
ambush = 4                         # +4 first round (cloaked defense in own system)

[cer_table]
# Combat Effectiveness Rating results (1d10)
# Format: roll_min-roll_max = multiplier
# "Less than zero, 0, 1, 2" = 0.25
# "3, 4" = 0.50
# "5, 6" = 0.75
# "7, 8, 9+" = 1.00
very_poor_max = 2                  # Rolls ≤ 2 = 0.25x
poor_max = 4                       # Rolls 3-4 = 0.50x
average_max = 6                    # Rolls 5-6 = 0.75x
good_min = 7                       # Rolls ≥ 7 = 1.00x

[bombardment]
# Planetary bombardment rules
max_rounds_per_turn = 3            # Maximum bombardment rounds per turn

# Bombardment CER table (1d10)
very_poor_max = 2                  # Rolls 0-2 = 0.25x
poor_max = 5                       # Rolls 3-5 = 0.50x
good_min = 6                       # Rolls 6-8 = 1.00x
# Roll 9 = critical hit (only affects attacking squadrons)

[ground_combat]
# Ground combat (invasion/blitz) CER table (1d10)
poor_max = 2                       # Rolls 0-2 = 0.50x
average_max = 6                    # Rolls 3-6 = 1.00x
good_max = 8                       # Rolls 7-8 = 1.50x
critical = 9                       # Roll 9 = 2.00x

[planetary_shields]
# Shield effectiveness by tech level (SLD1-SLD6)
# Format: chance_percentage, min_1d20_roll, hits_blocked_percentage

sld1_chance = 15
sld1_roll = 17                     # Need >17 on 1d20
sld1_block = 25                    # Blocks 25% of hits

sld2_chance = 30
sld2_roll = 14
sld2_block = 30

sld3_chance = 45
sld3_roll = 11
sld3_block = 35

sld4_chance = 60
sld4_roll = 8
sld4_block = 40

sld5_chance = 75
sld5_roll = 5
sld5_block = 45

sld6_chance = 90
sld6_roll = 2
sld6_block = 50

[damage_rules]
# Combat damage mechanics
crippled_as_multiplier = 0.5       # Crippled ships have AS * 0.5 (round up)
squadron_fights_as_unit = true     # Squadron total AS/DS, not individual ships
destroy_after_all_crippled = true  # Don't destroy until all others crippled

[retreat_rules]
# Retreat mechanics
fighters_never_retreat = true      # Fighter squadrons never retreat
spacelift_destroyed_if_escort_lost = true  # Spacelift ships destroyed if escorts die
retreat_to_nearest_friendly = true # Retreating fleets go to nearest friendly system

# ============================================================================
# BLOCKADE MECHANICS
# ============================================================================

[blockade]
# BALANCE: Blockade effects
blockade_production_penalty = 0.60 # -60% Gross Colonial Output (GCO)
blockade_prestige_penalty = 2      # -2 prestige per turn per blockaded colony

# ============================================================================
# INVASION MECHANICS
# ============================================================================

[invasion]
# BALANCE: Invasion and conquest effects
invasion_iu_loss = 0.50            # Conquered planet loses 50% of IU
blitz_iu_loss = 0.00               # Blitz preserves all IU if successful
